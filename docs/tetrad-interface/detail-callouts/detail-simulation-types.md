# Detail: Simulation types

Tetrad includes several built-in simulators for generating synthetic data from a known causal model. These are mainly used for:

- testing algorithms on data where the “true” graph is known,
- sanity-checking modeling assumptions (for example linearity, additivity, or noise structure),
- benchmarking and debugging.

In most cases, a simulator works as follows:

1. Generate (or accept) a graph, usually a DAG.
2. Assign a structural equation or conditional distribution to each node.
3. Sample exogenous noise terms.
4. Generate data by evaluating the model in a valid causal order.
5. Return a dataset (continuous, discrete, mixed, or time series).

---

## Bayes net

**Use when:** you want discrete data generated from a directed acyclic graph using conditional probability tables.

- All variables are discrete.
- Each node is sampled from a conditional distribution given its parents.
- No functional form is assumed beyond the CPTs.

---

## Structural equation model

**Use when:** you want a classic SEM-style simulator.

This simulator generates data by assigning structural equations to nodes, often linear with additive noise, though the exact form depends on configuration.

---

## Linear Fisher model

**Use when:** you want large linear datasets generated using a stimulate-then-settle mechanism in the style of Fisher.

- The system is repeatedly stimulated with noise.
- The model is iterated until it settles into equilibrium.
- The settled values are recorded as observations.

This approach is suitable for generating large datasets efficiently.

---

## Nonlinear additive SEM

**Use when:** you want nonlinear but additive causal mechanisms.

Each variable is generated as a nonlinear function of its parents, with an independent noise term added afterward:

    X = f(parents) + noise

---

## General noise SEM

**Use when:** you want a flexible nonlinear simulator that does not enforce additivity of noise.

Noise can enter the mechanism in a more general way, for example as an additional input to a nonlinear function.

---

## Additive noise SEM

**Use when:** you want an explicit additive-noise model.

Each variable is generated as a function of its parents plus an independent noise term:

    X = f(parents) + noise

This simulator often gives the most stable conditional independence behavior.

---

## Post-nonlinear model

**Use when:** you want post-nonlinear causal mechanisms.

Variables are generated by first combining parents, then adding noise, and finally applying an invertible nonlinear distortion:

    inner = f1(parents) + noise
    X = f2(inner)

Care must be taken with scaling to avoid saturation effects.

---

## Lee and Hastie

**Use when:** you want simulated mixed continuous and discrete data following the Lee and Hastie framework.

- Variables may be continuous or discrete.
- Discrete parents of continuous children primarily affect the mean of the child distribution.
- Continuous children are generated conditionally on discrete parent configurations.

---

## Conditional Gaussian

**Use when:** you want mixed discrete/continuous data from a conditional Gaussian model.

- Variables can be arbitrarily designated as discrete or continuous.
- Discrete parents may influence continuous children.
- Continuous variables are Gaussian conditional on discrete parent states.

---

## Time series

**Use when:** you want temporally ordered data with lagged dependencies.
